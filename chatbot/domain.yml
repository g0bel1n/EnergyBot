version: "3.1"

intents:
  - greeting
  - mood
  - onboarding
  - goodbye
  - bot_challenge

actions:
- validate_data_form
- action_submit_form

slots:
  civility:
    type: text
    influence_conversation: false
    mappings:
    - type: from_text
      conditions:
       - active_loop: data_form
         requested_slot: civility
  lastname:
    type: text
    influence_conversation: false
    mappings:
    - type: from_text
      conditions:
       - active_loop: data_form
         requested_slot: lastname
  firstname:
    type: text
    influence_conversation: false
    mappings:
    - type: from_text
      conditions:
       - active_loop: data_form
         requested_slot: firstname
  zipcode:
    type: text
    influence_conversation: false
    mappings:
    - type: from_text
      conditions:
       - active_loop: data_form
         requested_slot: zipcode
  email:
    type: text
    influence_conversation: false
    mappings:
    - type: from_text
      conditions:
       - active_loop: data_form
         requested_slot: email
  birthyear:
    type: text
    influence_conversation: false
    mappings:
    - type: from_text
      conditions:
       - active_loop: data_form
         requested_slot: birthyear
  ecoloscore:
    type: text
    influence_conversation: false
    mappings:
    - type: from_text
      conditions:
       - active_loop: data_form
         requested_slot: ecoloscore
  workdayoccupation:
    type: text
    influence_conversation: false
    mappings:
    - type: from_text
      conditions:
       - active_loop: data_form
         requested_slot: workdayoccupation
  maxpower:
    type: text
    influence_conversation: false
    mappings:
    - type: from_text
      conditions:
       - active_loop: data_form
         requested_slot: maxpower
  consprofile:
    type: text
    influence_conversation: false
    mappings:
    - type: from_text
      conditions:
       - active_loop: data_form
         requested_slot: consprofile

forms:
  data_form:
    required_slots:
      - civility
      - firstname
      - lastname
      - zipcode
      - email
      - birthyear
      - ecoloscore
      - workdayoccupation
      - maxpower
      - consprofile


responses:
  utter_greeting/greets:
  - text: "Hey! I'm ErgoBot powered by EnsaEnergy TM, I help you estimate your electricity consumption and provide you insights on energy savings you can make! Tell me how are your feelings today?"

  utter_greeting/formal_greets:
  - text: "Dear User! I'm ErgoBot powered by EnsaEnergy TM, I help you estimate your electricity consumption and provide you insights on energy savings you can make! Tell me how are your feelings today?"

  utter_mood/great:
  - text: "Ready to discover my power?"

  utter_mood/unhappy:
  - text: "Trust me I also provide amazing energies that change moods. Ready to discover my power?"

  utter_onboarding/affirm:
  - text: "Nice ! Let's start collecting data"

  utter_onboarding/deny:
  - text: "Come back when you want ! Bye"

  utter_goodbye:
  - text: "Bye"

  utter_iamabot:
  - text: "I am a ErgoBot, powered by Rasa and DKMS."

  utter_submit:
  - text: "Thanks"

  utter_ask_civility:
  - text: "What is your civility?"

  utter_ask_firstname:
  - text: "Give me your first name"

  utter_ask_lastname:
  - text: "What is your last name?"

  utter_ask_zipcode:
  - text: "Knowing where you live is mandatory. so what is your zip code?"

  utter_ask_email:
  - text: "So {firstname} {lastname}, can you provide your email?"

  utter_ask_birthyear:
  - text: "Ready to give your birthyear !"

  utter_ask_ecoloscore:
  - text: "I want to know how much do you value yourself as eco-responsible. Please give me a score between 1 and 5"

  utter_ask_workdayoccupation:
  - text: "Are you at office during working days?"

  utter_ask_maxpower:
  - text: "What is the subscribed power of your contract?"

  utter_ask_consprofile:
  - text: "To which profile do you belong?"

  utter_wrong_civility:
  - text: "Please provide a valide value of civility which is MR or MME"

  utter_wrong_firstname:
  - text: "Sorry we are unable to proceed with your first name, please try again"

  utter_wrong_lastname:
  - text: "Sorry we are unable to proceed with your last name, please try again"

  utter_wrong_email:
  - text: "Sorry we are unable to proceed with your email, please try again"

  utter_wrong_zipcode:
  - text: "Sorry we are unable to proceed with your zipcode, please try again"

  utter_wrong_birthyear:
  - text: "Sorry we are unable to proceed with your birthyear, please try again"

  utter_wrong_ecoloscore:
  - text: "Sorry we are unable to proceed with your ecology score, please try again"

  utter_wrong_workdayoccupation:
  - text: "Sorry we are unable to proceed with your workday occupation, please try again"

  utter_wrong_maxpower:
  - text: "Sorry we are unable to proceed with your maxpower score, please try again"

  utter_wrong_consprofile:
  - text: "Sorry we are unable to proceed with your consumption profile occupation, please try again"


session_config:
  session_expiration_time: 60
  carry_over_slots_to_new_session: true
